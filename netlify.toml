[[redirects]]
from = "/kml/*"
to = "https://res.cloudinary.com/nho/image/fetch/q_auto,f_auto,w_300,h_300,c_limit/bo_1px_solid_black/bo_2px_solid_white/https://nicolas-hoizey.photo/:splat"
status = 200

# Cache all assets for 1 month
[[headers]]
for = "/ui/*"
[headers.values]
Cache-Control = "public, max-age=2592000, immutable"

[[headers]]
for = "/*.webmanifest"
[headers.values]
Content-Type = "application/manifest+json"
Cache-Control = "public, max-age=2592000, immutable"

# Speculation rules: https://developer.chrome.com/blog/speculation-rules-improvements#speculation-rules_http_header
[[headers]]
for = "/speculation-rules.json"
[headers.values]
Content-Type = "application/speculationrules+json; charset=utf-8"

[[headers]]
for = "/ui/thumbnails/sprite.*"
[headers.values]
Access-Control-Allow-Origin = "*"

[[headers]]
for = "/photos/*"
[headers.values]
Access-Control-Allow-Origin = "*"

[[headers]]
for = "/api/*"
[headers.values]
Access-Control-Allow-Origin = "*"
